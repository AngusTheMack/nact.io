<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="preload" href="/component---src-layouts-index-jsx-56073acd1870c6a93ea1.js" as="script"/><link rel="preload" href="/component---src-templates-lesson-jsx-2ee70eae2662d21c4f4a.js" as="script"/><link rel="preload" href="/path---lesson-reasonml-stateful-actors-833bfe9a3f3d8039e290.js" as="script"/><link rel="preload" href="/app-5471a573d46cc99df6a4.js" as="script"/><link rel="preload" href="/commons-dd2942a5a5c9bcc49081.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"15178676390636814000":"app-5471a573d46cc99df6a4.js","6502461027731969000":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","7356694376651505000":"component---src-templates-lesson-jsx-2ee70eae2662d21c4f4a.js","13967715268414180000":"component---src-templates-post-jsx-0d8d9adde2927da520c2.js","12019329299654578000":"component---src-templates-tag-jsx-6d724a4bbcff12c3ea7c.js","8503015651353310000":"component---src-templates-category-jsx-3a50fee79b9519c47f96.js","9453687551911655000":"component---src-pages-about-jsx-8d060f49e6cc3aa1f978.js","13994203391546835000":"component---src-pages-index-jsx-abcff67caf31d1079d12.js","3954140758598355500":"path----6611940bd40871b680a6.js","13784418321228782000":"path---offline-plugin-app-shell-fallback-586c7e095e534a3909ec.js","303885937655110500":"path---lesson-reasonml-persist-8bb181538285da442b22.js","8580433462874760000":"path---lesson-reasonml-getting-started-dc439b5daf49fafdcefb.js","11026714532852298000":"path---lesson-reasonml-actor-communication-e8e896d177e166464887.js","6511516310945590000":"path---lesson-reasonml-introduction-1e94237a89c7a0f0cfe7.js","6991005665169103000":"path---lesson-reasonml-snapshotting-1cbf3cd1caad2e70db40.js","15066918984106703000":"path---lesson-reasonml-timeouts-67f6195e3ad059b71d00.js","2725416158545527300":"path---lesson-reasonml-stateful-actors-833bfe9a3f3d8039e290.js","2247064940371686400":"path---lesson-reasonml-querying-802e8d6b8746e79dae24.js","13340847024995355000":"path---post-tech-post-one-c5ce1d4b08a57ad8cf05.js","13563870859059671000":"path---tags-getting-started-74e3fa500316efe1b260.js","14256097644426779000":"path---tags-nact-03ec25f0bd3c2abb6b1e.js","305539234409926700":"path---tags-reason-5643fa46d75b4170beb9.js","16476480620029430000":"path---tags-bucklescript-5451854557b7d7739f46.js","1373433643669422000":"path---tags-programming-fb4560a04bf47d19d9c2.js","17877097498839097000":"path---tags-stuff-077a31247ed496488147.js","974125723347106600":"path---tags-other-f070efcd65c53db0824b.js","15590207924534057000":"path---categories-reasonml-70194814a1abcab3bc0e.js","5652007798618266000":"path---categories-tech-a914573c7b29be588fec.js","17953591736895156000":"path---about-586c7e095e534a3909ec.js","9347362237655822000":"path---index-ad6329ce597c5c597896.js","5217438866945042000":"component---src-layouts-index-jsx-56073acd1870c6a93ea1.js"}
            //]]>
            </script><style type="text/css" data-styled-components="iIWaAu jxnWVb gunSoB hoECVX cLdAnX fgvSEM" data-styled-components-is-local="true">/* sc-component-id: sc-ifAKCX */

.hoECVX{padding:25px;}.hoECVX > ul,.hoECVX .chapterItems{list-style:none;padding:0;margin:0;}.hoECVX p,.hoECVX h6{display:inline-block;font-weight:200;margin:0;}.hoECVX .tocHeading{font-weight:200;color:#FC5B5B;margin-bottom:10px;}
/* sc-component-id: sc-EHOje */

.cLdAnX h6,.cLdAnX p{color:black;margin:0;line-height:1.5;}.cLdAnX li{margin:0;}.cLdAnX:hover li span{border-bottom:1px solid black;}
/* sc-component-id: sc-bZQynM */

.iIWaAu{height:100vh;display:grid;grid-template-rows:75px 1fr;grid-template-columns:300px 1fr;}
/* sc-component-id: sc-gzVnrw */

.fgvSEM{grid-column:2 / 3;grid-row:2 / 3;overflow:scroll;justify-self:center;width:100%;padding:25px;}.fgvSEM > div{max-width:850px;margin:auto;}.fgvSEM > h1{color:#35495E;}
/* sc-component-id: sc-htoDjs */

.jxnWVb{grid-column:1 / 3;grid-row:1 / 2;z-index:2;}
/* sc-component-id: sc-dnqmqq */

.gunSoB{grid-column:1 / 2;grid-row:2 / 3;background:#F6F6F6;overflow:scroll;}
</style><title data-react-helmet="true">Stateful Actors | nact</title><meta data-react-helmet="true" name="description" content="One of the major advantages of an actor system is that it offers a safe way of creating stateful services. A stateful actor is created using..."/><meta data-react-helmet="true" name="image" content="https://nact.iohttps://unsplash.it/400/300/?random?BoldMage"/><meta data-react-helmet="true" property="og:url" content="https://nact.io//stateful-actors"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Stateful Actors"/><meta data-react-helmet="true" property="og:description" content="One of the major advantages of an actor system is that it offers a safe way of creating stateful services. A stateful actor is created using..."/><meta data-react-helmet="true" property="og:image" content="https://nact.iohttps://unsplash.it/400/300/?random?BoldMage"/><meta data-react-helmet="true" property="fb:app_id" content="1825356251115265"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="ericwindmill"/><meta data-react-helmet="true" name="twitter:title" content="Stateful Actors"/><meta data-react-helmet="true" name="twitter:description" content="One of the major advantages of an actor system is that it offers a safe way of creating stateful services. A stateful actor is created using..."/><meta data-react-helmet="true" name="twitter:image" content="https://nact.iohttps://unsplash.it/400/300/?random?BoldMage"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://nact.io/","name":"Stateful Actors","alternateName":"nact ⇒ node.js + actors ⇒ your services have never been so µ "},[{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://nact.io//stateful-actors","name":"Stateful Actors","image":"https://nact.iohttps://unsplash.it/400/300/?random?BoldMage"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://nact.io/","name":"Stateful Actors","alternateName":"nact ⇒ node.js + actors ⇒ your services have never been so µ ","headline":"Stateful Actors","image":{"@type":"ImageObject","url":"https://nact.iohttps://unsplash.it/400/300/?random?BoldMage"},"description":"One of the major advantages of an actor system is that it offers a safe way of creating stateful services. A stateful actor is created using..."}]]</script><link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,+400i,+700,+700i|Space+Mono:400,700" rel="stylesheet"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = location.hash.replace('#', '')
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#c62828"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-dd2942a5a5c9bcc49081.js","/app-5471a573d46cc99df6a4.js","/path---lesson-reasonml-stateful-actors-833bfe9a3f3d8039e290.js","/component---src-templates-lesson-jsx-2ee70eae2662d21c4f4a.js","/component---src-layouts-index-jsx-56073acd1870c6a93ea1.js"
])
  </script><link rel="shortcut icon" href="/static/logo-48.498be729.png"/><style id="gatsby-inlined-css">.social-links{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:15px 0}.social-links>div{margin:5px 15px}.share-count{text-align:center}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Light.eot");src:url("/fonts/firacode/eot/FiraCode-Light.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Light.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Light.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Light.ttf") format("truetype");font-weight:300;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Regular.eot");src:url("/fonts/firacode/eot/FiraCode-Regular.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Regular.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Regular.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Regular.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Medium.eot");src:url("/fonts/firacode/eot/FiraCode-Medium.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Medium.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Medium.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Medium.ttf") format("truetype");font-weight:500;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Bold.eot");src:url("/fonts/firacode/eot/FiraCode-Bold.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Bold.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Bold.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Bold.ttf") format("truetype");font-weight:700;font-style:normal}code[class*=language-],pre[class*=language-]{font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;background:#1d1f21;color:#c5c8c6}code{font-family:Fira Code,monospace;-webkit-font-feature-settings:"calt"!important;font-feature-settings:"calt"!important;-webkit-font-variant-ligatures:contextual!important;font-variant-ligatures:contextual!important}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b4b7b4}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b4b7b4}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#969896}.token.punctuation{color:#c5c8c6}.token.namespace{opacity:.7}.token.boolean,.token.number,.token.operator{color:#de935f}.token.property{color:#f0c674}.token.tag{color:#81a2be}.token.string{color:#8abeb7}.token.selector{color:#b294bb}.token.attr-name{color:#de935f}.language-css .token.string,.style .token.string,.token.entity,.token.url{color:#8abeb7}.token.attr-value,.token.control,.token.directive,.token.keyword,.token.unit{color:#b5bd68}.token.atrule,.token.regex,.token.statement{color:#8abeb7}.token.placeholder,.token.variable{color:#81a2be}.token.deleted{text-decoration:line-through}.token.inserted{border-bottom:1px dotted #fff;text-decoration:none}.token.italic{font-style:italic}.token.bold,.token.important{font-weight:700}.token.important{color:#c66}.token.entity{cursor:help}pre>code.highlight{outline:.4em solid #c66;outline-offset:.4em}*{box-sizing:border-box;margin:0;padding:0}table{border-collapse:collapse}table,td,th{border:1px solid #000;padding:5px}blockquote{border-left:.3em dotted #fc5b5b;padding-left:1em;font-style:italic;line-height:2}p{line-height:1.5}html{font-size:10px}a,body,h1,h2,h3,h4,h5,h6,li,p,ul{font-family:Avenir,Helvetica Neue,sans-serif}dl,h1,h2,h3,h4,h5,h6,ol,p,ul{margin:30px 0}dd,dt,li,li>*{margin:10px 0}h1{font-size:4rem}h2{font-size:3.5rem}h3{font-size:3rem}h4{font-size:2.4rem}h5{font-size:2rem}h6{font-size:1.6rem}a,dd,dt,li,p,th,tr{font-size:1.8rem}a{color:#2973b7;text-decoration:none}a:hover{border-bottom:1px solid #000}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Light.eot");src:url("/fonts/firacode/eot/FiraCode-Light.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Light.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Light.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Light.ttf") format("truetype");font-weight:300;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Regular.eot");src:url("/fonts/firacode/eot/FiraCode-Regular.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Regular.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Regular.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Regular.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Medium.eot");src:url("/fonts/firacode/eot/FiraCode-Medium.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Medium.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Medium.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Medium.ttf") format("truetype");font-weight:500;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Bold.eot");src:url("/fonts/firacode/eot/FiraCode-Bold.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Bold.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Bold.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Bold.ttf") format("truetype");font-weight:700;font-style:normal}.gatsby-highlight{padding-bottom:30px}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;font-family:Fira Code,monospace;-webkit-font-feature-settings:"calt"!important;font-feature-settings:"calt"!important;-webkit-font-variant-ligatures:contextual!important;font-variant-ligatures:contextual!important;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.87;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:0}:not(pre)>code[class*=language-],pre[class*=language-]{background:#111836}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#b5bec3}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#efc090}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#dc78dc}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#bed6ff}.token.keyword{color:#00d0d0}.token.important,.token.regex{color:#ccdf32}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="-1487593755"><!-- react-empty: 2 --><div data-reactid="3"><!-- react-empty: 4 --><!-- react-empty: 5 --><div class="sc-bZQynM iIWaAu" data-reactid="6"><div class="sc-htoDjs jxnWVb" data-reactid="7"><div data-reactid="8"></div></div><div class="sc-dnqmqq gunSoB" data-reactid="9"><div class="sc-ifAKCX hoECVX" data-reactid="10"><ul data-reactid="11"><li class="chapter" data-reactid="12"><h5 class="tocHeading" data-reactid="13">Introduction</h5><ul class="chapterItems" data-reactid="14"><div class="sc-EHOje cLdAnX" data-reactid="15"><a href="/lesson/reasonml/introduction" data-reactid="16"><li data-reactid="17"><span data-reactid="18"><p data-reactid="19"><!-- react-text: 20 -->1<!-- /react-text --><!-- react-text: 21 -->.<!-- /react-text --><!-- react-text: 22 -->1<!-- /react-text --><!-- react-text: 23 -->  <!-- /react-text --></p><h6 data-reactid="24">Introduction</h6></span></li></a></div></ul></li><li class="chapter" data-reactid="25"><h5 class="tocHeading" data-reactid="26">Core Concepts</h5><ul class="chapterItems" data-reactid="27"><div class="sc-EHOje cLdAnX" data-reactid="28"><a href="/lesson/reasonml/getting-started" data-reactid="29"><li data-reactid="30"><span data-reactid="31"><p data-reactid="32"><!-- react-text: 33 -->2<!-- /react-text --><!-- react-text: 34 -->.<!-- /react-text --><!-- react-text: 35 -->1<!-- /react-text --><!-- react-text: 36 -->  <!-- /react-text --></p><h6 data-reactid="37">Getting Started</h6></span></li></a></div><div class="sc-EHOje cLdAnX" data-reactid="38"><a href="/lesson/reasonml/stateful-actors" data-reactid="39"><li data-reactid="40"><span data-reactid="41"><p data-reactid="42"><!-- react-text: 43 -->2<!-- /react-text --><!-- react-text: 44 -->.<!-- /react-text --><!-- react-text: 45 -->2<!-- /react-text --><!-- react-text: 46 -->  <!-- /react-text --></p><h6 data-reactid="47">Stateful Actors</h6></span></li></a></div><div class="sc-EHOje cLdAnX" data-reactid="48"><a href="/lesson/reasonml/actor-communication" data-reactid="49"><li data-reactid="50"><span data-reactid="51"><p data-reactid="52"><!-- react-text: 53 -->2<!-- /react-text --><!-- react-text: 54 -->.<!-- /react-text --><!-- react-text: 55 -->3<!-- /react-text --><!-- react-text: 56 -->  <!-- /react-text --></p><h6 data-reactid="57">Actor Communication</h6></span></li></a></div><div class="sc-EHOje cLdAnX" data-reactid="58"><a href="/lesson/reasonml/querying" data-reactid="59"><li data-reactid="60"><span data-reactid="61"><p data-reactid="62"><!-- react-text: 63 -->2<!-- /react-text --><!-- react-text: 64 -->.<!-- /react-text --><!-- react-text: 65 -->4<!-- /react-text --><!-- react-text: 66 -->  <!-- /react-text --></p><h6 data-reactid="67">Querying</h6></span></li></a></div></ul></li><li class="chapter" data-reactid="68"><h5 class="tocHeading" data-reactid="69">Persistence</h5><ul class="chapterItems" data-reactid="70"><div class="sc-EHOje cLdAnX" data-reactid="71"><a href="/lesson/reasonml/persist" data-reactid="72"><li data-reactid="73"><span data-reactid="74"><p data-reactid="75"><!-- react-text: 76 -->3<!-- /react-text --><!-- react-text: 77 -->.<!-- /react-text --><!-- react-text: 78 -->1<!-- /react-text --><!-- react-text: 79 -->  <!-- /react-text --></p><h6 data-reactid="80">Persist</h6></span></li></a></div><div class="sc-EHOje cLdAnX" data-reactid="81"><a href="/lesson/reasonml/snapshotting" data-reactid="82"><li data-reactid="83"><span data-reactid="84"><p data-reactid="85"><!-- react-text: 86 -->3<!-- /react-text --><!-- react-text: 87 -->.<!-- /react-text --><!-- react-text: 88 -->2<!-- /react-text --><!-- react-text: 89 -->  <!-- /react-text --></p><h6 data-reactid="90">Snapshotting</h6></span></li></a></div><div class="sc-EHOje cLdAnX" data-reactid="91"><a href="/lesson/reasonml/timeouts" data-reactid="92"><li data-reactid="93"><span data-reactid="94"><p data-reactid="95"><!-- react-text: 96 -->3<!-- /react-text --><!-- react-text: 97 -->.<!-- /react-text --><!-- react-text: 98 -->3<!-- /react-text --><!-- react-text: 99 -->  <!-- /react-text --></p><h6 data-reactid="100">Timeouts</h6></span></li></a></div></ul></li></ul></div></div><div class="sc-gzVnrw fgvSEM" data-reactid="101"><div data-reactid="102"><h1 data-reactid="103">Stateful Actors</h1><div data-reactid="104"><p>One of the major advantages of an actor system is that it offers a safe way of creating stateful services. A stateful actor is created using the <code>spawn</code> function.</p>
<p>In this example, the state is initialized to an empty object. Each time a message is received by the actor, the current state is passed in as the first argument to the actor.  Whenever the actor encounters a name it hasn't encountered yet, it returns a copy of previous state with the name added. If it has already encountered the name it simply returns the unchanged current state. The return value is used as the next state.</p>
<div class="gatsby-highlight">
      <pre class="language-reason"><code><span class="token keyword">let</span> statefulGreeter <span class="token operator">=</span>
  spawn<span class="token punctuation">(</span>
    <span class="token operator">~</span>name<span class="token operator">=</span><span class="token string">"stateful-greeter"</span><span class="token punctuation">,</span>
    system<span class="token punctuation">,</span>
    <span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">,</span> ctx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> hasPreviouslyGreetedMe <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">=></span> v <span class="token operator">===</span> name<span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>hasPreviouslyGreetedMe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        print_endline<span class="token punctuation">(</span><span class="token string">"Hello again "</span> <span class="token operator">+</span><span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        state <span class="token operator">|</span><span class="token operator">></span> <span class="token class-name">Js</span><span class="token punctuation">.</span><span class="token class-name">Promise</span><span class="token punctuation">.</span>resolve<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        print_endline<span class="token punctuation">(</span><span class="token string">"Good to meet you, "</span> <span class="token operator">+</span><span class="token operator">+</span> name <span class="token operator">+</span><span class="token operator">+</span> <span class="token string">". I am the "</span> <span class="token operator">+</span><span class="token operator">+</span> ctx<span class="token punctuation">.</span>name <span class="token operator">+</span><span class="token operator">+</span> <span class="token string">" service!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">[</span>name<span class="token punctuation">,</span> <span class="token operator">...</span>state<span class="token punctuation">]</span> <span class="token operator">|</span><span class="token operator">></span> <span class="token class-name">Js</span><span class="token punctuation">.</span><span class="token class-name">Promise</span><span class="token punctuation">.</span>resolve<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div></div></div></div></div></div></div></div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-82450300-1 ', 'auto');
  ga('send', 'pageview');
      </script><script>
          window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));
      </script></body></html>